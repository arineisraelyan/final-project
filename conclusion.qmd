---
title: "Conclusion"
editor: visual
execute:
  echo: false
---

In this project, we discussed the fire risk and spread of fire in different areas of Armenia.

Now we will decide where is the most likely to start fire. To do that, we should find the highest average temperature and lowest average humidity.

In the graph below, you can see humidity danger levels (when the temperature is above 30 C) of each area we discussed about. The highest humidity danger levels were registered in Vazgen Sargsyan school area in Yerevan.

```{r te44s, message=FALSE, warning=FALSE}
library(tidyverse)
library(dplyr)
library(gganimate)
library(hrbrthemes)
library(ggplot2)
library(gifski)
library(lubridate)
library(knitr)

artik <- read_csv("artik.csv")
ashotsk <- read_csv("ashotsk.csv")
azatan <- read_csv("azatan.csv")
gavar <- read_csv("gavar.csv")
maralik <- read_csv("maralik.csv")
panik <- read_csv("panik.csv")
sevan <- read_csv("sevan.csv")
vazgen <- read_csv("vazgen.csv")
data <- bind_rows(artik, ashotsk, azatan, gavar, maralik, panik, sevan, vazgen) 

knitr::include_graphics("humidity_danger_animation.gif")
```

The chart below shows density of temperature in each area. The highest average temperature was registered in Vazgen Sargsyan school area (24.3 C).

```{r message=FALSE, warning=FALSE}
data |> drop_na() |> ggplot(aes(x=temperature, fill=device, color=device)) + geom_density(alpha=0.2) + theme_minimal() + xlim(-25, 50) + labs(fill="Area", color="Area", x="Temperature", y="Density", title="Density of temperature in different areas", subtitle="The highest average temperature was registered in Vazgen Sargsyan school area") + scale_fill_manual(values = rainbow(8), labels = c("Vazgen_Sargsyan" = "Vazgen Sargsyan school")) + scale_color_manual(values = rainbow(8), labels = c("Vazgen_Sargsyan" = "Vazgen Sargsyan school"))
```

The next chart shows the count of humidity of each area. 100% means that it was raining. The lowest average one is Vazgen Sargsyan school area (36.2%).  

```{r tes3, message=FALSE, warning=FALSE}
data |> drop_na() |> ggplot(aes(x=humidity, fill=device)) + geom_histogram(binwidth=1) + labs(fill="Area", color="Area", x="Humidity", y="Count", title="Humidity counts in different areas", subtitle="The lowest average huimidity was registered in Vazgen Sargsyan school") + scale_fill_manual(values=rainbow(8), labels = c("Vazgen_Sargsyan" = "Vazgen Sargsyan school")) + theme_minimal() 
```

Although the data we explored was not enough to make decisions, but according to it the driest and hottest place in Late Spring-Summer among the places we discussed is Vazgen Sargsyan school area in Yerevan. Among the places we explored it is more likely to start fire in **Vazgen Sargsyan school area**.

```{r tes2, message=FALSE, warning=FALSE}
#plot <- data |> mutate(humidity_danger=ifelse(humidity < 30 & temperature>30, temperature-humidity, 0), .before=1) |> ggplot(mapping=aes(x=time, y=humidity_danger, group=device, color=device, alpha=0.5)) + geom_line() + geom_point() + ggtitle("Humidity danger levels in different areas") + theme_ipsum() + labs(x="Time", y="Danger level", color="Device", subtitle="The highest humidity danger levels were registered in Vazgen Sargsyan school area in Yerevan") + transition_reveal(time) + scale_x_datetime(limits = c(as.POSIXct("2024-06-01 00:00"), as.POSIXct("2024-07-15 00:00")), date_labels = "%b %d") + scale_alpha_continuous(guide = "none") + scale_color_manual(values=rainbow(8), labels = c("Vazgen_Sargsyan" = "Vazgen Sargsyan school"))

#animated_plot <- animate(plot, nframes = 100, fps = 10, renderer = gifski_renderer())

#anim_save("humidity_danger_animation.gif", animated_plot)
```
